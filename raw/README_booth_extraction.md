# ðŸ—ºï¸ Booth ìœ„ì¹˜ ìžë™ ì¶”ì¶œ ê°€ì´ë“œ

ì´ í´ë”ì—ëŠ” PDF ì§€ë„ì—ì„œ booth IDì™€ ìœ„ì¹˜ë¥¼ ìžë™ìœ¼ë¡œ ì¶”ì¶œí•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ë“¤ì´ ìžˆìŠµë‹ˆë‹¤.

## ðŸ“‹ ê°œìš”

2025 í‘¸ë“œìœ„í¬ ì½”ë¦¬ì•„ ë¶€ìŠ¤ ë°°ì¹˜ë„ PDFì—ì„œ booth ID(A####, B####, S#### í˜•ì‹)ë¥¼ ìžë™ìœ¼ë¡œ ì¸ì‹í•˜ê³ , ê° boothì˜ ì •í™•í•œ ì¢Œí‘œ(x, y)ë¥¼ ì¶”ì¶œí•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ìž¥í•˜ëŠ” ìžë™í™” ì‹œìŠ¤í…œìž…ë‹ˆë‹¤.

## ðŸŽ¯ ì¶”ì¶œ ê²°ê³¼

### âœ… ì„±ê³µì ìœ¼ë¡œ ì¶”ì¶œ
- **ì´ booth ìˆ˜**: 420ê°œ
  - Aí™€: 206ê°œ
  - Bí™€: 193ê°œ  
  - Sí™€: 21ê°œ

### ðŸ“Š ë§¤ì¹­ í†µê³„
- **JSONLê³¼ ë§¤ì¹­**: 340ê°œ âœ…
- **PDFì—ë§Œ ìžˆìŒ**: 80ê°œ âš ï¸
- **JSONLì—ë§Œ ìžˆìŒ**: 32ê°œ âš ï¸

> **Note**: JSONLì—ë§Œ ìžˆëŠ” boothëŠ” PDFì— í…ìŠ¤íŠ¸ë¡œ í‘œê¸°ë˜ì§€ ì•Šì•˜ê±°ë‚˜ ë‹¤ë¥¸ í˜•ì‹ìœ¼ë¡œ í‘œê¸°ëœ ê²½ìš°ìž…ë‹ˆë‹¤. (ì˜ˆ: G01~G12ëŠ” íŠ¹ë³„ ë¶€ìŠ¤)

## ðŸ› ï¸ ì‚¬ìš© ë°©ë²•

### 1ï¸âƒ£ í•„ìˆ˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜

```bash
pip install PyMuPDF
```

Supabaseì— ìžë™ ì—…ë¡œë“œí•˜ë ¤ë©´ ì¶”ê°€ë¡œ:
```bash
pip install supabase
```

### 2ï¸âƒ£ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰

#### í…ŒìŠ¤íŠ¸ ì‹¤í–‰ (PDF ë¶„ì„ë§Œ)
```bash
python3 1_test_pdf_extraction.py
```

#### ì „ì²´ ì‹¤í–‰ (ì¶”ì¶œ + ë§¤ì¹­ + ì—…ë¡œë“œ)
```bash
python3 2_extract_and_upload_booths.py
```

#### PDF â†’ PNG ë³€í™˜
```bash
python3 3_convert_pdf_to_png.py
```

### 3ï¸âƒ£ Supabase ì„¤ì • (ì„ íƒì‚¬í•­)

ìžë™ ì—…ë¡œë“œë¥¼ ì›í•˜ë©´ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •:
```bash
export SUPABASE_URL='your-supabase-url'
export SUPABASE_KEY='your-supabase-anon-key'
```

í™˜ê²½ ë³€ìˆ˜ê°€ ì—†ìœ¼ë©´ `extracted_booths_final.json` íŒŒì¼ë¡œ ì €ìž¥ë©ë‹ˆë‹¤.

## ðŸ“ íŒŒì¼ ì„¤ëª…

### ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼

| íŒŒì¼ | ì„¤ëª… |
|------|------|
| `1_test_pdf_extraction.py` | PDF í…ìŠ¤íŠ¸ ì¶”ì¶œ í…ŒìŠ¤íŠ¸ |
| `2_extract_and_upload_booths.py` | ë©”ì¸ ì¶”ì¶œ ë° ì—…ë¡œë“œ ìŠ¤í¬ë¦½íŠ¸ |
| `3_convert_pdf_to_png.py` | PDFë¥¼ PNG ì´ë¯¸ì§€ë¡œ ë³€í™˜ |

### ìž…ë ¥ íŒŒì¼

| íŒŒì¼ | ì„¤ëª… |
|------|------|
| `2025 í‘¸ë“œìœ„í¬ ì½”ë¦¬ì•„_A,Bí™€_ë¶€ìŠ¤ë°°ì¹˜ë„_memo.pdf` | ì›ë³¸ ë¶€ìŠ¤ ë°°ì¹˜ë„ |
| `../public/foodweek_selected.jsonl` | ë¶€ìŠ¤ ë°ì´í„° (ì°¸ì¡°ìš©) |

### ì¶œë ¥ íŒŒì¼

| íŒŒì¼ | ì„¤ëª… |
|------|------|
| `extracted_booths_test.json` | í…ŒìŠ¤íŠ¸ ì¶”ì¶œ ê²°ê³¼ |
| `extracted_booths_final.json` | ìµœì¢… ì¶”ì¶œ ê²°ê³¼ (Supabase ì—…ë¡œë“œìš©) |
| `../public/2025_map.png` | ë³€í™˜ëœ ì§€ë„ ì´ë¯¸ì§€ |
| `../dist/2025_map.png` | ë¹Œë“œìš© ì§€ë„ ì´ë¯¸ì§€ |

## ðŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

booth_positions í…Œì´ë¸”ì´ í•„ìš”í•©ë‹ˆë‹¤:

```sql
CREATE TABLE IF NOT EXISTS booth_positions (
  booth_id VARCHAR(10) PRIMARY KEY,
  x REAL NOT NULL CHECK (x >= 0 AND x <= 1),
  y REAL NOT NULL CHECK (y >= 0 AND y <= 1),
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

ìŠ¤í‚¤ë§ˆ ìƒì„±ì€ `../create-booth-positions-table.sql` íŒŒì¼ì„ ì‹¤í–‰í•˜ì„¸ìš”.

## ðŸ“¤ Supabase ìˆ˜ë™ ì—…ë¡œë“œ ë°©ë²•

í™˜ê²½ ë³€ìˆ˜ ì„¤ì • ì—†ì´ ì‹¤í–‰í•œ ê²½ìš°:

1. `extracted_booths_final.json` íŒŒì¼ ì—´ê¸°
2. Supabase Dashboard â†’ booth_positions í…Œì´ë¸”
3. **Insert** â†’ **Insert from JSON** ì„ íƒ
4. JSON ë‚´ìš© ë³µì‚¬/ë¶™ì—¬ë„£ê¸°
5. **Insert** í´ë¦­

## ðŸ” ë§¤ì¹­ë˜ì§€ ì•Šì€ Booth ì²˜ë¦¬

### JSONLì—ë§Œ ìžˆëŠ” booth (32ê°œ)

ì´ë“¤ì€ ìˆ˜ë™ìœ¼ë¡œ ìœ„ì¹˜ë¥¼ ìž…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤:
- ê´€ë¦¬ìž ëª¨ë“œë¡œ ë¡œê·¸ì¸
- ì§€ë„ì—ì„œ í•´ë‹¹ booth ìœ„ì¹˜ í´ë¦­
- ìžë™ìœ¼ë¡œ ì €ìž¥ë¨

ì£¼ìš” í•­ëª©:
- **G01 ~ G12**: íŠ¹ë³„ ë¶€ìŠ¤ (ë³„ë„ í‘œê¸°)
- **A2607, A4409, A4410** ë“±: PDFì—ì„œ ëˆ„ë½ë˜ì—ˆê±°ë‚˜ ë‹¤ë¥¸ í˜•ì‹

### PDFì—ë§Œ ìžˆëŠ” booth (80ê°œ)

- ì „ì‹œì— ì°¸ì—¬í•˜ì§€ ì•ŠëŠ” booth
- ê³µê°„ë§Œ ìžˆê³  ì—…ì²´ ì •ë³´ê°€ ì—†ëŠ” booth
- ë¬´ì‹œí•´ë„ ë¨

## ðŸ“ˆ ìž‘ë™ ì›ë¦¬

### 1. PDF í…ìŠ¤íŠ¸ ì¸ì‹
- PyMuPDFë¥¼ ì‚¬ìš©í•˜ì—¬ PDFì— ìž„ë² ë””ë“œëœ í…ìŠ¤íŠ¸ ì¶”ì¶œ
- ì •ê·œì‹(`^[ABS]\d{4}$`)ìœ¼ë¡œ booth ID íŒ¨í„´ ë§¤ì¹­
- ê° í…ìŠ¤íŠ¸ì˜ ë°”ìš´ë”© ë°•ìŠ¤ ì¢Œí‘œ ì¶”ì¶œ

### 2. ì¢Œí‘œ ì •ê·œí™”
- PDF íŽ˜ì´ì§€ í¬ê¸°: 1191 x 1304.4 points
- ì´ë¯¸ì§€ í¬ê¸°: 4963 x 5435 pixels (300 DPI)
- ì¢Œí‘œë¥¼ 0~1 ì‚¬ì´ë¡œ ì •ê·œí™” (ë¹„ìœ¨)
  ```python
  norm_x = center_x / page_width
  norm_y = center_y / page_height
  ```

### 3. ì¤‘ë³µ ì œê±°
- ë™ì¼í•œ booth_idê°€ ì—¬ëŸ¬ ë²ˆ ë‚˜íƒ€ë‚˜ëŠ” ê²½ìš° ì²« ë²ˆì§¸ë§Œ ì‚¬ìš©
- dictë¥¼ ì‚¬ìš©í•˜ì—¬ ìžë™ ì¤‘ë³µ ì œê±°

### 4. ë§¤ì¹­ ê²€ì¦
- JSONL íŒŒì¼ì˜ booth IDì™€ ë¹„êµ
- ë§¤ì¹­ë˜ì§€ ì•Šì€ í•­ëª© ë¦¬í¬íŠ¸

## ðŸŽ¨ í”„ë¡ íŠ¸ì—”ë“œ ì—°ë™

`MapPage.tsx`ê°€ ìžë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤:
- ì´ë¯¸ì§€ ê²½ë¡œ: `/2024_map.png` â†’ `/2025_map.png`
- booth_positions í…Œì´ë¸”ì—ì„œ ì¢Œí‘œ ë¡œë“œ
- ì •ê·œí™”ëœ ì¢Œí‘œë¥¼ CSS percentageë¡œ ë³€í™˜í•˜ì—¬ ë§ˆì»¤ í‘œì‹œ

## âš ï¸ ì£¼ì˜ì‚¬í•­

1. **PDF í’ˆì§ˆ**: PDFê°€ ìŠ¤ìº”ë³¸ì´ ì•„ë‹Œ ë²¡í„° í…ìŠ¤íŠ¸ë¥¼ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤.
2. **ì¢Œí‘œ ì •í™•ë„**: ìžë™ ì¶”ì¶œëœ ì¢Œí‘œëŠ” í…ìŠ¤íŠ¸ ì¤‘ì‹¬ì  ê¸°ì¤€ìž…ë‹ˆë‹¤.
3. **ë¯¸ì„¸ ì¡°ì •**: ì¼ë¶€ boothëŠ” ê´€ë¦¬ìž ëª¨ë“œì—ì„œ ìˆ˜ë™ ì¡°ì •ì´ í•„ìš”í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.
4. **íŠ¹ìˆ˜ booth**: Gë¡œ ì‹œìž‘í•˜ëŠ” boothëŠ” ë³„ë„ ì²˜ë¦¬ê°€ í•„ìš”í•©ë‹ˆë‹¤.

## ðŸ”§ ë¬¸ì œ í•´ê²°

### Q: "ModuleNotFoundError: No module named 'fitz'"
A: PyMuPDF ì„¤ì¹˜ í•„ìš”
```bash
pip install PyMuPDF
```

### Q: Supabase ì—…ë¡œë“œê°€ ì•ˆ ë¼ìš”
A: í™˜ê²½ ë³€ìˆ˜ í™•ì¸ ë˜ëŠ” JSON íŒŒì¼ë¡œ ìˆ˜ë™ ì—…ë¡œë“œ

### Q: ì¼ë¶€ boothê°€ ë§¤ì¹­ì´ ì•ˆ ë¼ìš”
A: ì •ìƒìž…ë‹ˆë‹¤. JSONLì—ë§Œ ìžˆëŠ” boothëŠ” ìˆ˜ë™ ìž…ë ¥í•˜ì„¸ìš”.

### Q: ì¢Œí‘œê°€ ì •í™•í•˜ì§€ ì•Šì•„ìš”
A: ê´€ë¦¬ìž ëª¨ë“œì—ì„œ í•´ë‹¹ boothë¥¼ í´ë¦­í•˜ì—¬ ìž¬ì¡°ì •í•˜ì„¸ìš”.

## ðŸ“ž ì§€ì›

ë¬¸ì œê°€ ìžˆìœ¼ë©´ ì¶”ì¶œ ë¡œê·¸ì™€ í•¨ê»˜ ë¬¸ì˜í•˜ì„¸ìš”.

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-10-21  
**ì¶”ì¶œ ë²„ì „**: v1.0  
**PDF ë²„ì „**: 2025 í‘¸ë“œìœ„í¬ ì½”ë¦¬ì•„ A,Bí™€ ë¶€ìŠ¤ë°°ì¹˜ë„ (memo)

